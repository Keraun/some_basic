<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>cssç»˜åˆ¶ç”µæºä¿¡æ¯</title>
	<link rel="stylesheet" type="text/css" href="./css/reset.css">
	<style type="text/css">
	* {
		margin: 0;
		padding: 0;
	}
	.wrapper {
		width:600px;
		margin: 0 auto;
	}
	.progress-box {
		width:414px;
		height:20px;
		border: 1px solid #000;
		margin-top:100px;
		border-radius: 15px;
		text-align: center;
		font-size: 11px;
		line-height: 22px;
		overflow: hidden;
		position: relative;
	}
	.progress-bar {
		border-radius: 15px;
		background: green;
		width:10%;
		height:100%;
		transition: width 1s;
	}
	.progress-num {
		position: absolute;
		top: -1px;
	}
	</style>
</head>
<body>
	<div class="wrapper">
		<div class="progress-box">
			<div class="progress-bar"></div>
			<span class="progress-num">10%</span>
		</div>
	</div>
	<script type="text/javascript">
		navigator.getBattery().then(function(battery) {
			var level = battery.level * 100 + "%";
		  	console.log("ğŸ”‹ æ­£åœ¨å……ç”µ? " + (battery.charging ? "Yes" : "No"));
		  	console.log("ğŸ”‹ å‰©ä½™ç”µé‡: " + battery.level * 100 + "%");
		  	console.log("Battery charging time: " + battery.chargingTime + " seconds");
		  	console.log("Battery discharging time: " + battery.dischargingTime + " seconds");
		  	document.getElementsByClassName('progress-bar')[0].style['width'] = level;
		  	document.getElementsByClassName('progress-num')[0].innerHTML = level;
		  	//ç›‘å¬ç”µæºå……ç”µäº‹ä»¶
		  	battery.addEventListener('chargingchange', function() {
		    	console.log("ğŸ”‹ æ­£åœ¨å……ç”µ? " + (battery.charging ? "Yes" : "No"));
		  	});
		  	//ç›‘å¬ç”µæºç­‰çº§äº‹ä»¶
		  	battery.addEventListener('levelchange', function() {
		  		var level = battery.level * 100 + "%";
		    	console.log("ğŸ”‹ å‰©ä½™ç”µé‡: " + level);
		    	document.getElementsByClassName('progress-bar')[0].style['width'] = level;
		  	});
		  	//ç›‘å¬ç”µæºå……ç”µæ—¶é—´äº‹ä»¶
		  	battery.addEventListener('chargingtimechange', function() {
		    	console.log("ğŸ”‹ Battery charging time: " + battery.chargingTime + " seconds");

		  	});
		  	//ç›‘å¬ç”µæºæ”¾ç‚¹æ—¶é—´äº‹ä»¶
		  	battery.addEventListener('dischargingtimechange', function() {
		    	console.log("ğŸ”‹ Battery discharging time: " + battery.dischargingTime + " seconds");
		  	});

		});
	</script>
</body>
</html>